{"version":3,"sources":["utils/timelines.js","containers/EmotionChip.jsx","utils/analytics.js","components/Emotions.jsx","components/Emotion.jsx","components/Footer.jsx","routes/index.js","index.js"],"names":["gsap","registerPlugin","Timeline","Power1","EmotionChip","label","icon","iconFirst","url","cssClass","chipClick","chipObj","className","onClick","indexOf","to","href","target","chip_click_event","e","window","sa_event","replace","toLowerCase","console","log","Emotions","data","useLayoutEffect","document","body","emotions","map","i","k","title","Emotion","emotion","useParams","useState","country","setCountry","emotionObj","find","useEffect","callback","backgroundNum","Math","floor","random","backgrounds","length","backgroundObj","style","backgroundColor","color","fetch","then","r","json","helplines","ipdata","filter","country_name","positive","phones","links","navigator","share","location","catch","error","shareApi","Footer","Date","getFullYear","Routes","pathname","TransitionGroup","component","Transition","appear","onEnter","node","appears","delay","timeline","paused","chips","querySelectorAll","from","duration","autoAlpha","ease","easeIn","play","onExiting","opacity","exit","timeout","enter","exact","path","ReactDOM","render","props","getElementById"],"mappings":"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","file":"static/js/main.68ae92b5.chunk.js","sourcesContent":["import {gsap, TimelineMax as Timeline, Power1 } from 'gsap';\r\ngsap.registerPlugin(Timeline, Power1);\r\n\r\nconst getPageTransitionTimeline = (node, delay) => {\r\n  \r\n  const timeline = new Timeline({ paused: true });\r\n  timeline\r\n    .from(node, {duration: 4, autoAlpha: 0, ease: Power1.easeIn })\r\n    .from('h2', {duration: delay, autoAlpha: 0, ease: Power1.easeIn })\r\n    .from('h1', {duration: delay, autoAlpha: 0, ease: Power1.easeIn })\r\n    .from('h3', {duration: delay, autoAlpha: 0, ease: Power1.easeIn });\r\n\r\n  var chips = document.querySelectorAll('.e-chip');\r\n  for(var i=0; i<chips.length; i++){\r\n    timeline.from(chips[i], {duration: delay/2, autoAlpha: 0, ease: Power1.easeIn }, \"+=0\");\r\n  }\r\n\r\n\r\n  return timeline;\r\n}\r\n\r\nexport const play = (pathname, node, appears) => {\r\n  console.log(\"PLAY\" , pathname);\r\n  const delay = 0.2\r\n  const timeline = new Timeline({ paused: true });\r\n\r\n  var chips = document.querySelectorAll('.emotions-container .e-chip');\r\n  if(pathname == '/'){\r\n    document.body.className='emotions';\r\n\r\n    timeline.from(node, {duration: (delay*2), autoAlpha: 0, ease: Power1.easeIn })    \r\n    for(var i=0; i<chips.length; i++){\r\n      timeline.from(chips[i], {duration: delay/2, autoAlpha: 0, ease: Power1.easeIn }, \"+=0\");\r\n    }    \r\n  }else{\r\n    timeline.from(node, {duration: (delay/2)*(chips.length||1), autoAlpha: 0, ease: Power1.easeIn })\r\n    .from('.emotion-container h2', {duration: delay*3, autoAlpha: 0, ease: Power1.easeIn })\r\n    .from('.emotion-container h1', {duration: delay*4, autoAlpha: 0, ease: Power1.easeIn })\r\n    .from('.emotion-container h3', {duration: delay*4, autoAlpha: 0, ease: Power1.easeIn })\r\n    .from('.emotion-container h3 i', {duration: delay*2, autoAlpha: 0, ease: Power1.easeIn })\r\n    .from('.emotion-container .links', {duration: delay*3, autoAlpha: 0, ease: Power1.easeIn });\r\n  }\r\n\r\n  timeline.play();  \r\n}\r\n\r\nexport const exit = (pathname, node, appears) => {\r\n  console.log(\"EXIT\" , pathname);\r\n  const delay = 0.2\r\n  const timeline = new Timeline({ paused: true });\r\n\r\n  if(pathname == '/'){\r\n    timeline.to('.emotions-container h3',  {duration: delay, opacity: 0, ease: Power1.easeIn })\r\n    var chips = document.querySelectorAll('.emotions-container .e-chip');\r\n    for(var i=0; i<chips.length; i++){\r\n      timeline.to(chips[i], {duration: delay/5, opacity: 0, ease: Power1.easeIn }, \"+=0\");\r\n    }\r\n    timeline.to(node,  {duration: delay, opacity: 0, ease: Power1.easeIn })\r\n  }else{}\r\n\r\n  timeline.play(); \r\n}\r\n","import React, {useRef} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport styles from './EmotionChip.css';\r\n\r\nconst EmotionChip = ({label, icon, iconFirst, url, cssClass = '', chipClick}) => {\r\n    let chipObj = <span className={`e-chip ${cssClass}`} onClick={chipClick}> \r\n        {iconFirst&&<i>{icon}</i>}\r\n        &nbsp;{label}&nbsp;\r\n        {!iconFirst&&<i>{icon}</i>}\r\n    </span>;\r\n\r\n    if(url){\r\n        if(url.indexOf('/')==0){\r\n            return <Link className=\"e-chip-link\" to={url}>{chipObj}</Link>\r\n        }else{\r\n            return <a className=\"e-chip-link\" href={url} target={\"_blank\"}>{chipObj}</a>\r\n        }\r\n    }\r\n    return(chipObj);\r\n}\r\nexport default EmotionChip;","export const chip_click_event = (e) => {\r\n    if(window.sa_event){\r\n        e = e.replace(/[\\s\\-]/g,\"_\").toLowerCase();\r\n        console.log(\"sa_event\", `btn_${e}`);\r\n        window.sa_event(`btn_${e}`);\r\n    }\r\n}","import { Chip } from 'material-ui';\r\nimport React, {useEffect, useLayoutEffect} from 'react';\r\nimport styles from './Emotions.css';\r\nimport EmotionChip from '../containers/EmotionChip';\r\nimport {chip_click_event} from '../utils/analytics';\r\n\r\nconst Emotions = ({data}) => {\r\n    useLayoutEffect(() => {        \r\n        document.body.className='emotions';\r\n    });\r\n\r\n    return(\r\n        <div className=\"emotions-container\">\r\n            <h3>How Do You Feel?</h3>\r\n            {data.emotions.map((i,k)=>{ return <EmotionChip label={i.title} icon={i.icon} iconFirst={false} url={`/${i.title.toLowerCase()}`} key={k} chipClick={()=>chip_click_event(i.title)}/>})}\r\n        </div>\r\n    );\r\n}\r\nexport default Emotions;","import React, {useEffect, useState} from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\nimport styles from './Emotion.css';\r\nimport EmotionChip from '../containers/EmotionChip';\r\nimport {chip_click_event} from '../utils/analytics';\r\n\r\nconst geoLocation = (callback) => {\r\n    fetch(`/data/helplines.json`) // Get the helplines in each country \r\n    .then((r) => r.json())\r\n    .then((helplines) =>{\r\n        fetch(`https://ipapi.co/json/`) // Get country by ip\r\n        .then((r) => r.json())\r\n        .then((ipdata) =>{\r\n            var country = helplines.filter(i=>i.country == ipdata.country_name); \r\n            callback(country[0]||{});\r\n        })\r\n    })\r\n}\r\n\r\n\r\nconst shareApi = (emotion) => {\r\n    chip_click_event(`${emotion}_share`);\r\n    if(navigator.share){\r\n        navigator.share({\r\n            title: \"It's Totally OK\",\r\n            url: document.location.href\r\n          }).then(() => {})\r\n          .catch(console.error);\r\n    }\r\n}\r\n\r\nconst Emotion = ({data}) => {\r\n    let {emotion} = useParams();\r\n    const [country, setCountry] = useState({})\r\n    emotion = emotion.toLowerCase();\r\n    \r\n    const emotionObj = data.emotions.find(i=>i.title.toLowerCase()==emotion);\r\n    \r\n    \r\n    useEffect(() => {      \r\n        if(!emotionObj)  \r\n            return;\r\n\r\n        const backgroundNum = Math.floor(Math.random() * data.backgrounds.length);\r\n        const backgroundObj = data.backgrounds[backgroundNum];\r\n\r\n        document.body.className = `emotion ${backgroundObj[\"light-content\"]?'light':'dark'}`;\r\n        document.body.style.backgroundColor = backgroundObj.color;\r\n\r\n        geoLocation(setCountry);\r\n\r\n        return () => {\r\n            document.body.className = ``;\r\n            document.body.style.backgroundColor = null;\r\n        };\r\n\r\n    },[emotionObj]);\r\n\r\n    return(\r\n    <div className=\"emotion-container\">\r\n        <div className=\"title\">\r\n            <h2>It's totally</h2><h1>OK</h1><h3>to feel {emotionObj.title.toLowerCase()} <i>{emotionObj.icon}</i></h3>\r\n        </div>\r\n        <div className=\"links\">\r\n            {!emotionObj.positive && country.phones && <EmotionChip label={\"Call Local Helpline\"} icon={\"📞\"} cssClass=\"call-helpline\" iconFirst={true} url={`tel:${country.phones[0]}`} chipClick={()=>{chip_click_event(`${emotionObj.title.toLowerCase()}_call`)}} />}\r\n            {emotionObj.links.map((i,k)=>{ return i.title ? <EmotionChip label={i.title} icon={i.icon} iconFirst={true} url={i.url} key={k} chipClick={()=>{chip_click_event(`${emotionObj.title.toLowerCase()}_${i.title}`)}}/> : null})}            \r\n            <EmotionChip cssClass={\"share\"} label={\"Share\"} icon={\"↗️\"} iconFirst={true} chipClick={()=>{shareApi(emotionObj.title.toLowerCase())}}/>\r\n        </div>\r\n       \r\n    </div>\r\n    );\r\n}\r\nexport default Emotion;","import React, {useEffect} from 'react';\r\nimport styles from './Footer.css';\r\n\r\nconst Footer = () => {\r\n    return(\r\n    <div className=\"footer\">\r\n        <a href=\"https://itstotallyok.com\"><i>💚</i> <b>itstotallyok</b>.com</a>\r\n        <span>© Fade Rudman {(new Date()).getFullYear()}. All Rights Reserved.</span>\r\n    </div>);\r\n}\r\nexport default Footer;","import React from 'react';\r\nimport {Switch,Route} from \"react-router-dom\";\r\nimport { Transition, TransitionGroup } from 'react-transition-group';\r\nimport {play, exit} from '../utils/timelines';\r\n\r\nimport Emotions from '../components/Emotions';\r\nimport Emotion from '../components/Emotion';\r\nimport Footer from '../components/Footer';\r\n\r\nconst Routes = ({data, pathname, location}) => {\r\n    return (\r\n        <>\r\n        <TransitionGroup component={null}>\r\n        <Transition\r\n          appear={true}\r\n          key={location.pathname}\r\n          onEnter={(node, appears) => play(location.pathname, node, appears)}\r\n          onExiting={(node, appears) => exit(location.pathname, node, appears)}\r\n          timeout={{enter: 0, exit: location.pathname=='/' ? (data.emotions.length*400) : 0 }}\r\n        >\r\n          <Switch location={location}>\r\n            <Route exact path=\"/\"><Emotions  data={data}/></Route>\r\n            <Route path=\"/:emotion\"><Emotion  data={data}/></Route>\r\n          </Switch>\r\n        </Transition>                \r\n      </TransitionGroup>\r\n      <Footer/>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Routes;\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router,Switch,Route} from \"react-router-dom\";\nimport Routes from './routes';\n\nimport './index.css';\n\nfetch(`/data/config.json`)\n.then((r) => r.json())\n.then((data) =>{\n  ReactDOM.render(\n    <Router>\n      <Route\n        path='/'\n        render={(props) => (\n          <Routes {...props} data={data} />\n        )}\n      />\n    </Router>,\ndocument.getElementById('root')\n);\n})\n\n"],"sourceRoot":""}